import numpy as np
import time

from . import core
from . import config

class Sequencer(object):

    def __init__(self, data):
        assert isinstance(data, core.Data)
        self.data = data
        self.data.add_value('tempo', config.TEMPO)
        self.data.add_value('beats', config.BEATS)

        self.absbeat = 0
        self.measure = 0
        self.last_beat_time = time.time()
        
        while True:
            
            if time.time() - self.last_beat_time() > 60./self.data.tempo:
                self.absbeat += 1

            print(self.absbeat)
            

